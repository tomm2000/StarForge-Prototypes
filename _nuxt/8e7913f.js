(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{235:function(e,t,n){var r=n(3);e.exports=r(1..valueOf)},238:function(e,t,n){"use strict";var r=n(6),o=n(1),c=n(3),d=n(44),h=n(235),l=n(179),f=n(4),v=o.RangeError,w=o.String,y=Math.floor,m=c(l),x=c("".slice),V=c(1..toFixed),k=function(e,t,n){return 0===t?n:t%2==1?k(e,t-1,n*e):k(e*e,t/2,n)},M=function(data,e,t){for(var n=-1,r=t;++n<6;)r+=e*data[n],data[n]=r%1e7,r=y(r/1e7)},O=function(data,e){for(var t=6,n=0;--t>=0;)n+=data[t],data[t]=y(n/e),n=n%e*1e7},j=function(data){for(var e=6,s="";--e>=0;)if(""!==s||0===e||0!==data[e]){var t=w(data[e]);s=""===s?t:s+m("0",7-t.length)+t}return s};r({target:"Number",proto:!0,forced:f((function(){return"0.000"!==V(8e-5,3)||"1"!==V(.9,0)||"1.25"!==V(1.255,2)||"1000000000000000128"!==V(0xde0b6b3a7640080,0)}))||!f((function(){V({})}))},{toFixed:function(e){var t,n,r,o,c=h(this),l=d(e),data=[0,0,0,0,0,0],f="",y="0";if(l<0||l>20)throw v("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return w(c);if(c<0&&(f="-",c=-c),c>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(c*k(2,69,1))-69)<0?c*k(2,-t,1):c/k(2,t,1),n*=4503599627370496,(t=52-t)>0){for(M(data,0,n),r=l;r>=7;)M(data,1e7,0),r-=7;for(M(data,k(10,r,1),0),r=t-1;r>=23;)O(data,1<<23),r-=23;O(data,1<<r),M(data,1,1),O(data,2),y=j(data)}else M(data,0,n),M(data,1<<-t,0),y=j(data)+m("0",l);return y=l>0?f+((o=y.length)<=l?"0."+m("0",l-o)+y:x(y,0,o-l)+"."+x(y,o-l)):f+y}})},265:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(108);var o=n(137),c=n(75);function d(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(o.a)(e)||Object(c.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},311:function(e,t,n){n(271)("Uint8",(function(e){return function(data,t,n){return e(this,data,t,n)}}))},335:function(e,t,n){var content=n(381);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(100).default)("515c74e1",content,!0,{sourceMap:!1})},380:function(e,t,n){"use strict";n(335)},381:function(e,t,n){var r=n(99)(!1);r.push([e.i,"#main_container[data-v-194f43e9]{background-color:#3a3a98;height:100vh;width:100vw;padding:1rem;box-sizing:border-box;display:grid;grid-template-rows:1fr 10fr}#home-link[data-v-194f43e9]{color:#fff;grid-row:1;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}#animation_container[data-v-194f43e9]{grid-row:2;display:flex;justify-content:center}canvas[data-v-194f43e9]{width:100%;max-width:90%;max-height:90%}",""]),e.exports=r},410:function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(131),c=n(132),d=(n(238),n(19),n(33),n(230)),h=(n(66),n(177),n(239),n(311),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(270));function l(e,t){var n=new h.a;n.add(t,"reload"),n.add(t,"autoUpdate");var r=n.addFolder("planet data");r.add(e,"radius",.1,2,.01),r.add(e,"globalMinHeight",-1,1,.001),r.add(e,"seed",0,9999),r.add(t,"addNoiseLayer");var o=n.addFolder("noise layers");return o.add(e,"debugNoise"),e.noiseLayers.forEach((function(e,t){var n=o.addFolder("layer [".concat(t,"]"));n.add(e,"amplitude",-1,1,.001),n.add(e,"detail",.1,5,.01),n.add(e,"minHeight",-1,1,.001),n.add(e,"maskOnly"),n.add(e,"usePrevLayerAsMask"),n.add(e,"useFirstLayerAsMask"),n.add(e,"removeSelf")})),n.close(),n}n(45),n(54),n(39),n(55),n(42),n(26),n(34),n(56),n(57),n(43),n(101);function f(e,t){return e.multiply(new d.Vector3(t,t,t))}var v=n(265);function w(e,t){var n=function(e){if(1==e.x)return new d.Vector2(0,1);if(-1==e.x)return new d.Vector2(2,1);if(1==e.y)return new d.Vector2(1,0);if(-1==e.y)return new d.Vector2(2,0);if(1==e.z)return new d.Vector2(1,1);if(-1==e.z)return new d.Vector2(0,0);throw"normal is not a normal"}(t),p=e.add(new d.Vector3(1,1,1)).divide(new d.Vector3(2,2,2)),r=d.Vector2.Zero();switch(function(e){if(1==e.x)return 0;if(-1==e.x)return 2;if(1==e.y)return 4;if(-1==e.y)return 5;if(1==e.z)return 1;if(-1==e.z)return 3;throw"normal is not a normal"}(t)){case 0:r=new d.Vector2(p.z,p.y);break;case 1:r=new d.Vector2(1-p.x,p.y);break;case 2:r=new d.Vector2(1-p.z,p.y);break;case 3:r=new d.Vector2(p.x,p.y);break;case 4:r=new d.Vector2(p.z,1-p.x);break;case 5:r=new d.Vector2(p.z,p.x)}return r.divide(new d.Vector2(3,2)).add(n.divide(new d.Vector2(3,2)))}function y(e){if(e.y>=0&&e.y<.5){if(e.x>=0&&e.x<1/3)return 3;if(e.x>=1/3&&e.x<2/3)return 4;if(e.x>=2/3&&e.x<1)return 5}else if(e.y>=.5&&e.y<=1){if(e.x>=0&&e.x<1/3)return 0;if(e.x>=1/3&&e.x<2/3)return 1;if(e.x>=2/3&&e.x<1)return 2}throw"uv coords must be 0<=uv<=1"}function m(e){var t=function(e){switch(e){case 0:return new d.Vector3(1,0,0);case 2:return new d.Vector3(-1,0,0);case 1:return new d.Vector3(0,0,1);case 3:return new d.Vector3(0,0,-1);case 4:return new d.Vector3(0,1,0);case 5:return new d.Vector3(0,-1,0)}throw"face must be 0<=f<=5"}(y(e)),n=new d.Vector2(e.x%(1/3)*3*2-1,e.y%.5*2*2-1),r=d.Vector3.Zero();switch(y(e)){case 0:r=new d.Vector3(1,n.y,n.x);break;case 2:r=new d.Vector3(-1,n.y,-n.x);break;case 1:r=new d.Vector3(-n.x,n.y,1);break;case 3:r=new d.Vector3(n.x,n.y,-1);break;case 4:r=new d.Vector3(-n.y,1,n.x);break;case 5:r=new d.Vector3(n.y,-1,n.x);break;default:throw"error in converting uv to face"}var o=r.x*r.x,c=r.y*r.y,h=r.z*r.z,l=r.x*Math.sqrt(1-(c+h)/2+c*h/3),f=r.y*Math.sqrt(1-(h+o)/2+h*o/3),v=r.z*Math.sqrt(1-(o+c)/2+o*c/3);return{normal:t,position:new d.Vector3(l,f,v)}}var x=function(){function e(t,n,r,c,h){Object(o.a)(this,e),this.normal=n,this.parent=r,this.mesh=new d.Mesh("mesh",t),this.scene=t,this.material=c,this.resolution=h}return Object(c.a)(e,[{key:"generateGeometry",value:function(){for(var e,t,n=this.normal,r=this.resolution,o=[],c=[],h=[],l=0,y=new d.Vector3(n.y,n.z,n.x),m=n.clone().cross(y),x=0;x<r;x++)for(var V=0;V<r;V++){var i=V+x*r,k=(e=new d.Vector2(V,x),t=r-1,e.divide(new d.Vector2(t,t))),a=f(y,2*(k.x-.5)),b=f(m,2*(k.y-.5)),M=n.clone().add(a).add(b),O=M.x*M.x,j=M.y*M.y,z=M.z*M.z,F=M.x*Math.sqrt(1-(j+z)/2+j*z/3),I=M.y*Math.sqrt(1-(z+O)/2+z*O/3),_=M.z*Math.sqrt(1-(O+j)/2+O*j/3),A=new d.Vector3(F,I,_),L=this.parent.getPointOnObject(A);o.push.apply(o,Object(v.a)(L.asArray())),c.push.apply(c,Object(v.a)(w(M,n).asArray())),V!=r-1&&x!=r-1&&(h[l+2]=i,h[l+1]=i+r+1,h[l+0]=i+r,h[l+5]=i,h[l+4]=i+1,h[l+3]=i+r+1,l+=6)}var S=new d.VertexData;S.positions=o,S.indices=h,S.uvs=c,S.applyToMesh(this.mesh),this.mesh.material=this.material,this.mesh.parent=this.parent.getOriginNode()}},{key:"getMesh",value:function(){return this.mesh}},{key:"dispose",value:function(){this.mesh.dispose()}}]),e}();function V(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){d=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(d)throw o}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function M(e){return f(e,1)}var O=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.Vector3.Zero(),c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:M,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new d.StandardMaterial("mat");Object(o.a)(this,e),this.faces=[],this.positionFunction=c,this.resolution=n,this.origin=new d.TransformNode("origin"),this.origin.position=r,this.material=h,this.faces=[new x(t,new d.Vector3(1,0,0),this,this.material,this.resolution),new x(t,new d.Vector3(-1,0,0),this,this.material,this.resolution),new x(t,new d.Vector3(0,1,0),this,this.material,this.resolution),new x(t,new d.Vector3(0,-1,0),this,this.material,this.resolution),new x(t,new d.Vector3(0,0,1),this,this.material,this.resolution),new x(t,new d.Vector3(0,0,-1),this,this.material,this.resolution)],this.generateFaces()}return Object(c.a)(e,[{key:"getOriginNode",value:function(){return this.origin}},{key:"getMaterial",value:function(){return this.material}},{key:"getFaces",value:function(){return this.faces.map((function(e){return e.getMesh()}))}},{key:"getPointOnObject",value:function(e){return this.positionFunction(e)}},{key:"generateFaces",value:function(){var e,t=V(this.faces);try{for(t.s();!(e=t.n()).done;){e.value.generateGeometry()}}catch(e){t.e(e)}finally{t.f()}}},{key:"dispose",value:function(){var e,t=V(this.faces);try{for(t.s();!(e=t.n()).done;){e.value.dispose()}}catch(e){t.e(e)}finally{t.f()}}}]),e}(),j=n(278),z=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Object(o.a)(this,e),this.autoUpdate=!1;var c=Math.floor(9999*Math.random());this.scene=t,this.material=new d.StandardMaterial("material"),this.material.diffuseTexture=this.generateHeightMap(),this.planetData={globalMinHeight:0,radius:r,seed:c,type:"terrestrial",noiseLayers:[],debugNoise:!1},this.gui=l(this.planetData,this),this.sphereMesh=new O(this.scene,void 0,void 0,void 0,this.material),this.updateInterval=setInterval((function(){n.autoUpdate&&n.reload()}),16)}return Object(c.a)(e,[{key:"reload",value:function(){this.sphereMesh.getMaterial().diffuseTexture=this.generateHeightMap()}},{key:"addNoiseLayer",value:function(){var e=this,t=this.planetData.noiseLayers.length;this.planetData.noiseLayers.push({removeSelf:function(){e.planetData.noiseLayers.splice(t,1),e.updateGUI()},amplitude:1,minHeight:0,useFirstLayerAsMask:!1,usePrevLayerAsMask:!1,maskOnly:!1,detail:1,index:t}),this.updateGUI()}},{key:"updateGUI",value:function(){this.gui.destroy(),this.gui=l(this.planetData,this)}},{key:"dispose",value:function(){this.updateInterval&&clearInterval(this.updateInterval),this.sphereMesh.dispose(),this.gui.destroy()}},{key:"generateHeightMap",value:function(){for(var e=new d.Vector2(300,200),t=new Uint8Array(e.x*e.y*4),n=Object(j.makeNoise3D)(999*Math.random()),i=0;i<e.x*e.y;i++){var r=m(new d.Vector2(i%e.x,Math.floor(i/e.x)).divide(e)),o=r.position,c=(r.normal,(n(4*o.x,4*o.y,4*o.z)+1)/2);t[3*i+0]=256*c,t[3*i+1]=256*c,t[3*i+2]=256*c}return d.RawTexture.CreateRGBTexture(t,e.x,e.y,this.scene)}}]),e}(),F=function(){function e(canvas){var t=this;Object(o.a)(this,e),this.planets=[],this.engine=new d.Engine(canvas),this.scene=this.getNewScene(this.engine,canvas),this.divFps=document.getElementById("divFps"),this.engine.runRenderLoop((function(){t.scene.render(),t.divFps&&(t.divFps.innerHTML=t.engine.getFps().toFixed()+" fps")})),window.addEventListener("resize",(function(){t.engine.resize()}));for(var i=0;i<1;i++)this.planets.push(new z(this.scene))}return Object(c.a)(e,[{key:"getNewScene",value:function(e,canvas){var t=new d.Scene(e),n=new d.ArcRotateCamera("Camera",Math.PI/4,Math.PI/3,2,d.Vector3.Zero(),t);n.setTarget(d.Vector3.Zero()),n.attachControl(canvas,!1),new d.PointLight("light",new d.Vector3(0,6,-4),t),new d.HemisphericLight("light1",new d.Vector3(0,-1,0),t);var r=d.MeshBuilder.CreateGround("ground1",{width:6,height:6,subdivisions:2,updatable:!1},t);return r.material=new d.StandardMaterial("texture",t),r.position.y=-2,t}},{key:"dispose",value:function(){this.planets.forEach((function(e){return e.dispose()})),this.scene.dispose(),this.engine.dispose()}}]),e}(),I=r.a.extend({name:"IndexPage",data:function(){var data={universe:void 0};return data},mounted:function(){var canvas=document.getElementById("animation_canvas");this.universe=new F(canvas)},methods:{},destroyed:function(){var e;null===(e=this.universe)||void 0===e||e.dispose()}}),_=(n(380),n(41)),component=Object(_.a)(I,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"main_container"}},[n("router-link",{attrs:{id:"home-link",to:"/"}},[e._v("home")]),e._v(" "),n("div",{attrs:{id:"divFps"}},[e._v("fps: ")]),e._v(" "),e._m(0)],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"animation_container"}},[t("canvas",{staticClass:"webgl",attrs:{id:"animation_canvas"}})])}],!1,null,"194f43e9",null);t.default=component.exports}}]);